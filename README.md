# Gemini FAQ Generator (WordPress Plugin)

## 1. 概要

このWordPressプラグインは、Google Gemini APIを利用して、WordPressの投稿や固定ページの内容からFAQ（よくある質問）を自動的に生成し、ページ内に表示します。

生成されたFAQは、投稿編集画面で手動で編集・調整することが可能です。また、FAQの生成に使用するプロンプトを複数種類から選択したり、記事ごとにFAQの表示を制御したり、自動挿入することもできます。

一度FAQを生成すると、結果はWordPressのキャッシュ機能（Transients API）に保存され、2回目以降の表示は高速になります。

## 2. 機能

- **AIによるFAQ自動生成**: 投稿/固定ページの内容に基づいて、Google Gemini APIがFAQを自動生成します。
- **手動編集機能**: AIが生成したFAQを、投稿編集画面の専用エディタで自由に編集・調整できます。
- **複数プロンプト選択**: FAQ生成に使用するプロンプトのスタイルを、標準、専門家風、初心者向け、SEOライクなど、複数種類から選択できます。
- **記事ごとのプロンプト設定**: サイト全体のデフォルト設定とは別に、記事ごとに異なるプロンプトスタイルを設定できます。
- **FAQ表示の制御**: 投稿ごとにFAQの表示/非表示を切り替えるチェックボックスが利用できます。
- **自動挿入機能**: 「この投稿でFAQを表示する」チェックボックスを有効にすると、投稿本文の最後にFAQが自動的に挿入されます。
- **ショートコードによる任意の位置への表示**: 投稿本文中に `[gemini_faq]` ショートコードを配置することで、FAQを好きな位置に表示できます。ショートコードが存在する場合は自動挿入は行われません。
- **FAQキャッシュ**: 生成されたFAQはキャッシュされ、表示速度を向上させます。

## 3. 必要なもの

- WordPress 5.0 以上
- PHP 7.4 以上
- Google Gemini APIキー

## 4. サーバー要件（推奨）

このプラグインは、一般的なWordPressが動作するレンタルサーバーであれば動作します。

- **OS**: Linux (WordPressが動作する環境)
- **CPU**: WordPressの推奨スペックに準拠
- **メモリ**: WordPressの推奨スペックに準拠
- **PHP実行環境**: WordPressの推奨スペックに準拠
- **ネットワーク**: GoogleのAPIサーバーへのアウトバウンドHTTPS通信が可能であること。

## 5. インストールと利用方法

### ステップ1: プラグインファイルの配置

`gemini-faq-generator` フォルダ全体を、あなたのWordPressインストールディレクトリ内の `wp-content/plugins/` ディレクトリにアップロードまたはコピーします。

配置後のディレクトリ構造の例:
```
wordpress/
└── wp-content/
    └── plugins/
        └── gemini-faq-generator/
            ├── gemini-faq-generator.php
            ├── css/
            │   └── gemini-faq.css
            └── js/
                └── gemini-faq.js
```

### ステップ2: プラグインの有効化

WordPress管理画面にログインし、左メニューから「プラグイン」→「インストール済みプラグイン」へ移動します。
プラグイン一覧の中から「Gemini FAQ Generator」を見つけ、「有効化」をクリックします。

### ステップ3: Gemini APIキーとキャッシュ期間の設定

プラグインを有効化すると、WordPress管理画面の左メニュー「設定」の中に「Gemini FAQ」という新しい項目が追加されます。
「設定」→「Gemini FAQ」をクリックし、設定画面に移動します。
Google AI Studioで取得したあなたのGemini APIキーを入力し、FAQのキャッシュ期間（日数）を設定します。「変更を保存」ボタンをクリックします。

### ステップ4: 投稿編集画面での設定とFAQの表示

FAQを表示したいWordPressの投稿や固定ページを開きます。

編集画面のメインカラムに「Gemini FAQ 設定とエディタ」という新しいメタボックスが表示されます。

1.  **FAQ表示設定**: 「この投稿でFAQを表示する」チェックボックスをオンにすると、この投稿の最後にFAQが自動的に表示されます。
2.  **プロンプト設定**: 「この記事のFAQを生成する際のプロンプトを選択します。」ドロップダウンから、AIにFAQを生成させる際のスタイルを選択できます。サイトのデフォルト設定を使用することも、記事ごとに異なるスタイルを選択することも可能です。
3.  **FAQエディタ**: AIが生成したFAQがここに表示されます。必要に応じて手動で内容を編集・調整できます。また、「FAQを再生成する」ボタンをクリックすると、現在の投稿内容に基づいて新しいFAQが生成され、ここに反映されます。

**ヒント**: 投稿本文中に `[gemini_faq]` ショートコードを挿入すると、FAQを好きな位置に表示できます。この場合、自動挿入は行われません。

ページを更新または公開すると、設定に基づいてFAQが表示されるはずです。